{"version":3,"sources":["components/crud/actions/Add.jsx","components/crud/actions/Edit.jsx","components/crud/actions/Delete.jsx","components/crud/snacks/Snackdel.jsx","components/crud/snacks/Snackadd.jsx","components/crud/snacks/Snackedit.jsx","components/services/auth-header.jsx","components/services/user.service.jsx","components/crud/Tab.jsx"],"names":["Add","props","inputChange","event","setData","data","target","name","value","Typography","variant","className","styles","root","noValidate","autoComplete","onSubmit","preventDefault","axios","post","baseURL","header","then","response","console","log","setRows","rows","concat","reset","setSnackAdd","catch","error","TextField","mg","id","label","onChange","Button","color","type","size","Edit","sendPutData","a","put","selRow","dataNueva","map","price","reference","table","setSnackEdit","inputEditChange","setSelRow","Delete","peticionDelete","delete","filter","row","setOpen","setSnack","Dialog","open","DialogContent","Grid","container","item","xs","component","align","DialogActions","onClick","Alert","elevation","useStyles","makeStyles","theme","width","marginTop","spacing","Snackdel","classes","handleClose","reason","Snackbar","autoHideDuration","onClose","severity","Snackadd","Snackedit","authHeader","user","JSON","parse","localStorage","getItem","Authorization","API_URL","margin","padding","textAlign","progress","contbutt","paddingTop","MaybeLoading","loading","CircularProgress","Tab","UserService","headers","useState","buttonDelete","setButtonDelete","buttonEdit","setButtonEdit","active","numeric","columns","setLoading","add","setAdd","edit","setEdit","snackDel","setSnackDel","snackAdd","snackEdit","useEffect","peticionGet","get","selections","selected","length","history","useHistory","Paper","Table","TableHead","TableRow","column","TableCell","TableBody","newRows","index","findIndex","scope","Container","disabled","AuthService","logout","push"],"mappings":"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","file":"static/js/9.d2dd979b.chunk.js","sourcesContent":["import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport axios from 'axios';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nfunction Add(props) {\r\n  const sendData = (event) => {\r\n    event.preventDefault();\r\n    axios.post(props.baseURL, props.data, props.header)\r\n      .then((response) => {\r\n        console.log(response);\r\n        console.log(props.data);\r\n        props.setRows(props.rows.concat(response.data));\r\n        event.target.reset();\r\n        props.setSnackAdd(true);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const inputChange = (event) => {\r\n    props.setData({\r\n      ...props.data,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h3\">Agregar Producto</Typography>\r\n      <form className={props.styles.root} noValidate autoComplete=\"off\" onSubmit={sendData}>\r\n        <TextField className={props.styles.mg} id=\"outlined-basic\" label=\"Producto\" variant=\"outlined\" name=\"name\" onChange={inputChange} />\r\n        <TextField className={props.styles.mg} id=\"outlined-basic\" label=\"Precio\" variant=\"outlined\" name=\"price\" onChange={inputChange} />\r\n        <TextField className={props.styles.mg} id=\"outlined-basic\" label=\"Referencia\" variant=\"outlined\" name=\"reference\" onChange={inputChange} />\r\n        <Button className={props.styles.mg} variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\">\r\n          Guardar\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Add;\r\n","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport axios from 'axios';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nfunction Edit(props) {\r\n  const sendPutData = async (event) => {\r\n    event.preventDefault();\r\n    await axios.put(`${props.baseURL + props.selRow.id}/`, props.selRow, props.header)\r\n      .then(() => {\r\n        let dataNueva = props.rows;\r\n        dataNueva = dataNueva.map((rows) => {\r\n          if (props.selRow.id === rows.id) {\r\n            rows.name = props.selRow.name;\r\n            rows.price = props.selRow.price;\r\n            rows.reference = props.selRow.reference;\r\n          }\r\n          return rows;\r\n        });\r\n        console.table(dataNueva);\r\n        props.setRows(dataNueva);\r\n        props.setSnackEdit(true);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const inputEditChange = (event) => {\r\n    props.setSelRow({\r\n      ...props.selRow,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <Typography variant=\"h3\">Modificar Producto</Typography>\r\n      <form className={props.styles.root} noValidate autoComplete=\"off\" onSubmit={sendPutData}>\r\n        <TextField className={props.styles.mg} id=\"outlined-basic\" label=\"Producto\" variant=\"outlined\" name=\"name\" onChange={inputEditChange} value={props.selRow.name} />\r\n        <TextField className={props.styles.mg} id=\"outlined-basic\" label=\"Precio\" variant=\"outlined\" name=\"price\" onChange={inputEditChange} value={props.selRow.price} />\r\n        <TextField className={props.styles.mg} id=\"outlined-basic\" label=\"Referencia\" variant=\"outlined\" name=\"reference\" onChange={inputEditChange} value={props.selRow.reference} />\r\n        <Button className={props.styles.mg} variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\">\r\n          Guardar\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Edit;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport axios from 'axios';\r\n\r\nexport default function Delete(props) {\r\n  const peticionDelete = async () => {\r\n    await axios.delete(`${props.baseURL + props.selRow.id}/`, props.header)\r\n      .then((response) => {\r\n        props.setRows(props.rows.filter((row) => row.id !== props.selRow.id)); /* Actualiza el state excluyendo el campo eliminado */\r\n        props.setOpen(false);\r\n        props.setSnack(true);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={props.open}>\r\n        <DialogContent>\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h3\" component=\"h2\" align=\"center\">\r\n                ¿Deseas eliminar\r\n                {' '}\r\n                {`${props.selRow.name} ${props.selRow.reference}`}\r\n                ?\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => peticionDelete()} color=\"primary\">\r\n            Si\r\n          </Button>\r\n          <Button onClick={() => props.setOpen(false)} color=\"primary\">\r\n            No\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Snackdel(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    props.setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={props.open} autoHideDuration={3000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n        {props.selRow.name} eliminado Exitosamente!\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Snackadd(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    props.setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={props.open} autoHideDuration={3000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"info\">\r\n         {props.data.name} agregado exitosamente!\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Snackedit(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    props.setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={props.open} autoHideDuration={3000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"info\">\r\n          {props.selRow.name} modificado exitosamente!\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n\r\n","export default function authHeader() {\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n/*console.log(user);*/\r\n  if (user) {\r\n    return { Authorization: `Bearer ${user}` };\r\n  }\r\n  return {};\r\n}\r\n","import axios from 'axios';\r\nimport authHeader from './auth-header';\r\n\r\nconst API_URL = 'https://productsjwt.azurewebsites.net/';\r\n\r\nconst getUserBoard = () => axios.get(`${API_URL}productsbyuser/`, { headers: authHeader() });\r\n\r\nconst postData = (info) => axios.post(`${API_URL}productsbyuser/`, { headers: authHeader(), info });\r\n\r\n/*\r\nconst getModeratorBoard = () => axios.get(`${API_URL}mod`, { headers: authHeader() });\r\n\r\nconst getAdminBoard = () => axios.get(`${API_URL}admin`, { headers: authHeader() });\r\n\r\nconst getPublicContent = () => axios.get(`${API_URL}all`); */\r\n\r\nexport default {\r\n  getUserBoard,\r\n  postData,\r\n  API_URL,\r\n  /*\r\n  getPublicContent,\r\n  getModeratorBoard,\r\n  getAdminBoard,\r\n  */\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Container from '@material-ui/core/Container';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Add from './actions/Add';\r\nimport Edit from './actions/Edit';\r\nimport Delete from './actions/Delete';\r\nimport Snackdel from './snacks/Snackdel';\r\nimport Snackadd from './snacks/Snackadd';\r\nimport Snackedit from './snacks/Snackedit';\r\nimport authHeader from '../services/auth-header';\r\nimport UserService from '../services/user.service';\r\nimport AuthService from '../services/auth.service';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: { margin: theme.spacing(1) * 2, padding: theme.spacing(1) * 2, textAlign: 'center' },\r\n  progress: { margin: theme.spacing(2) },\r\n  mg: { margin: theme.spacing(1) },\r\n  contbutt: { paddingTop: theme.spacing(2) },\r\n}));\r\n\r\nfunction MaybeLoading({ loading }) {\r\n  const classes = useStyles();\r\n  return loading ? (\r\n    <CircularProgress className={classes.progress} />\r\n  ) : null;\r\n}\r\n\r\nfunction Tab() {\r\n  const baseURL = `${UserService.API_URL}productsbyuser/`;\r\n  const header = { headers: authHeader() };\r\n  const [buttonDelete, setButtonDelete] = useState(true); /* Disable Delete Button */\r\n  const [buttonEdit, setButtonEdit] = useState(true); /* Disable Edit Button */\r\n  const [rows, setRows] = useState([]); /* Rows State */\r\n  const [selRow, setSelRow] = useState([]); /* Row Selected State */\r\n  const [columns, setColumns] = useState([ /* Columns State */\r\n    { name: 'ID', active: false },\r\n    { name: 'Name', active: false },\r\n    { name: 'Price', active: false, numeric: true },\r\n    { name: 'Reference', active: false },\r\n  ]);\r\n  const [loading, setLoading] = useState(true); /* Loading progress state */\r\n  const [add, setAdd] = useState(false);\r\n  const [edit, setEdit] = useState(false);\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    price: '',\r\n    reference: '',\r\n  }); /* Input create form state */\r\n  const [open, setOpen] = useState(false);\r\n  const [snackDel, setSnackDel] = useState(false);\r\n  const [snackAdd, setSnackAdd] = useState(false);\r\n  const [snackEdit, setSnackEdit] = useState(false);\r\n  /* Use async await for loading */\r\n  useEffect(async () => {\r\n    await peticionGet();\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const peticionGet = async () => {\r\n    await axios.get(baseURL, header)\r\n      .then((response) => {\r\n        setRows(response.data);\r\n        console.log(baseURL)\r\n      });\r\n  };\r\n\r\n  const onRowClick = (id) => () => {\r\n    const newRows = [...rows];\r\n    const index = rows.findIndex((row) => row.id === id);\r\n    const row = rows[index];\r\n    setSelRow(rows[index]); /* Añade al estado la fila seleccionada */\r\n\r\n    /* Añade al state el campo selected true a las filas seleccionadas */\r\n    newRows[index] = { ...row, selected: !row.selected };\r\n    setRows(newRows);\r\n\r\n    // Habilita los botones editar y eliminar\r\n    setButtonDelete(false);\r\n    setButtonEdit(false);\r\n    // Desahabilita los botones editar y eliminar cuando hay mas de una selección\r\n    if (selections() > 0) {\r\n      setButtonEdit(true);\r\n      setButtonDelete(true);\r\n    }\r\n  };\r\n\r\n  const selections = () => rows.filter((row) => row.selected).length; /* Count selections number */\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n  const Redirect = () => {\r\n    history.push('/');\r\n  }; \r\n\r\n  const logOut = () => {\r\n    AuthService.logout();\r\n    Redirect();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Paper className={classes.root}>\r\n        <Typography variant=\"h4\" id=\"tableTitle\">\r\n          {`(${selections()}) Productos Seleccionados`}\r\n        </Typography>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              {columns.map((column) => (\r\n                <TableCell key={column.name}>\r\n                  {column.name}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.map((row) => (\r\n              <TableRow\r\n                key={row.id}\r\n                onClick={onRowClick(row.id)}\r\n                selected={row.selected}\r\n              >\r\n                <TableCell component=\"th\" scope=\"row\">{row.id}</TableCell>\r\n                <TableCell>{row.name}</TableCell>\r\n                <TableCell>{row.price}</TableCell>\r\n                <TableCell>{row.reference}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n        <MaybeLoading className={classes.root} loading={loading} />\r\n        <Container className={classes.contbutt}>\r\n          <Button className={classes.mg} variant=\"contained\" disabled={buttonDelete} onClick={() => { setAdd(false); setEdit(false); setOpen(true); }}>Eliminar</Button>\r\n          <Button className={classes.mg} variant=\"contained\" disabled={buttonEdit} onClick={() => { setEdit(true); setAdd(false); }}>Editar</Button>\r\n          <Button className={classes.mg} variant=\"contained\" onClick={() => { setAdd(true); setEdit(false); }}>Nuevo</Button>\r\n          <Button className={classes.mg} variant=\"contained\" color=\"secondary\" onClick={logOut}>Salir</Button>\r\n        </Container>\r\n\r\n        {add\r\n          ? (\r\n            <>\r\n              <Add setData={setData} data={data} setRows={setRows} rows={rows} styles={classes} setSnackAdd={setSnackAdd} baseURL={baseURL} header={header} />\r\n            </>\r\n          )\r\n          : null}\r\n\r\n        {edit\r\n          ? (\r\n            <>\r\n              <Edit setSelRow={setSelRow} selRow={selRow} setRows={setRows} rows={rows} styles={classes} setSnackEdit={setSnackEdit} baseURL={baseURL} header={header} />\r\n            </>\r\n          )\r\n          : null}\r\n        <><Delete open={open} setOpen={setOpen} setSnack={setSnackDel} rows={rows} setRows={setRows} selRow={selRow} baseURL={baseURL} header={header}/></>\r\n        <><Snackadd setSnack={setSnackAdd} open={snackAdd} setOpen={setSnackAdd} data={data} /></>\r\n        <><Snackdel setSnack={setSnackDel} open={snackDel} setOpen={setSnackDel} selRow={selRow} /></>\r\n        <><Snackedit setSnack={setSnackEdit} open={snackEdit} setOpen={setSnackEdit} selRow={selRow} /></>\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Tab;\r\n"],"sourceRoot":""}